define("orbit_common/local_storage_source",["orbit/lib/assert","orbit/lib/objects","./memory_source","exports"],function(a,b,c,d){"use strict";var e=a.assert,f=b.extend,g=c["default"],h=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},i=function(){this.init.apply(this,arguments)};f(i.prototype,g.prototype,{constructor:i,init:function(a,b){e("Your browser does not support local storage!",h()),g.prototype.init.apply(this,arguments),b=b||{},this.namespace=b.namespace||"orbit",this._autosave=void 0!==b.autosave?b.autosave:!0;var c=void 0!==b.autoload?b.autoload:!0;this._isDirty=!1,this.on("didTransform",function(){this._saveData()},this),c&&this.load()},load:function(){var a=window.localStorage.getItem(this.namespace);a&&this.reset(JSON.parse(a))},enableAutosave:function(){this._autosave||(this._autosave=!0,this._isDirty&&this._saveData())},disableAutosave:function(){this._autosave&&(this._autosave=!1)},_saveData:function(a){return this._autosave||a?(window.localStorage.setItem(this.namespace,JSON.stringify(this.retrieve())),void(this._isDirty=!1)):void(this._isDirty=!0)}}),d["default"]=i}),define("orbit_common/local_storage_source",["orbit/lib/assert","orbit/lib/objects","./memory_source","exports"],function(a,b,c,d){"use strict";var e=a.assert,f=b.extend,g=c["default"],h=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},i=function(){this.init.apply(this,arguments)};f(i.prototype,g.prototype,{constructor:i,init:function(a,b){e("Your browser does not support local storage!",h()),g.prototype.init.apply(this,arguments),b=b||{},this.namespace=b.namespace||"orbit",this._autosave=void 0!==b.autosave?b.autosave:!0;var c=void 0!==b.autoload?b.autoload:!0;this._isDirty=!1,this.on("didTransform",function(){this._saveData()},this),c&&this.load()},load:function(){var a=window.localStorage.getItem(this.namespace);a&&this.reset(JSON.parse(a))},enableAutosave:function(){this._autosave||(this._autosave=!0,this._isDirty&&this._saveData())},disableAutosave:function(){this._autosave&&(this._autosave=!1)},_saveData:function(a){return this._autosave||a?(window.localStorage.setItem(this.namespace,JSON.stringify(this.retrieve())),void(this._isDirty=!1)):void(this._isDirty=!0)}}),d["default"]=i}),function(a){var b=a.Orbit.__defineModule__,c=a.Orbit.__requireModule__;b("orbit_common/local_storage_source",["orbit/lib/assert","orbit/lib/objects","./memory_source","exports"],function(a,b,c,d){"use strict";var e=a.assert,f=b.extend,g=c["default"],h=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},i=function(){this.init.apply(this,arguments)};f(i.prototype,g.prototype,{constructor:i,init:function(a,b){e("Your browser does not support local storage!",h()),g.prototype.init.apply(this,arguments),b=b||{},this.namespace=b.namespace||"orbit",this._autosave=void 0!==b.autosave?b.autosave:!0;var c=void 0!==b.autoload?b.autoload:!0;this._isDirty=!1,this.on("didTransform",function(){this._saveData()},this),c&&this.load()},load:function(){var a=window.localStorage.getItem(this.namespace);a&&this.reset(JSON.parse(a))},enableAutosave:function(){this._autosave||(this._autosave=!0,this._isDirty&&this._saveData())},disableAutosave:function(){this._autosave&&(this._autosave=!1)},_saveData:function(a){return this._autosave||a?(window.localStorage.setItem(this.namespace,JSON.stringify(this.retrieve())),void(this._isDirty=!1)):void(this._isDirty=!0)}}),d["default"]=i}),a.OC.LocalStorageSource=c("orbit_common/local_storage_source")}(window);